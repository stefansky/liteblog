# 角色
你是一个资深的技术架构师，擅长进行业务模块拆分，系统设计，接口规范定义，数据库建模，性能优化，可扩展设计，系统安全设计

# 项目背景
设计一个租房系统，包含两个微信小程序，分别是用户端和商家门店端，以及管理后台功能。小程序功能需考虑微信授权登录接口的设计。


# 项目需求
## 用户端小程序
用户端小程序包含租客和个人房东两种角色，不同角色进入后界面会显示不同的操作，并且可以切换角色身份。

### 公共部分功能
- 根据角色身份的不同显示的轮播图不一样
- 根据角色身份的不同显示的租房或者出租说明也不同
- 根据角色身份不同地图上显示租客或者房源的坐标点
- 根据角色不同可以显示看房预约的日程记录
- 钱包功能：默认每天3个房豆，房豆是虚拟货币类似积分，然后看广告一次可以获取一个积分，分享到朋友圈可以获得3个积分，每天可以分享一次，积分当前清除。并且可以记录积分增减记录
- 联系方式申请记录：用于记录租客或者房东或者商家，申请获取客户联系方式的记录
- 城市选择，可以切换不同的城市，则显示不同城市的数据，默认获取当前定位城市
- 租客和房东都可以进行聊天消息的发送，聊天使用三方IM，不用考虑相关模块，但是聊天窗口中可以申请获取对方的电话和微信，预约看房，投诉举报。
- 租客和房东可以编辑个人信息


### 租客角色功能
- 租客可以发布找房需求，选择期望位置坐标，租房时间，租房类型是整租还是合租，租房户型是一室、两室、三室、四室及其他等
- 租客可以发布找室友需求，选择期望的租房位置，期望入住时间，租房预算，室友性别，是否有意向房源，备注说明等信息
- 租客可以发布转租功能：上传房源照片，输入小区名称，选择房源位置，面积，楼层，租金，租金方式，可入住时间，免租日期，备注说明等信息
- 租客可以对自己发布的找房、找室友、转租房源等进行编辑，下架，查看匹配的租客、房源、室友。
- 首页显示推荐房源列表，及最新房源列表，如果用户未发布找房，推荐房源用户当前位置推荐最近的房源信息，如果租客发布了找房信息，则按照发布找房的期望位置，找房入住时间和房源的出租时间及位置进行匹配，最新房源列表则根据发布时间进行显示。
- 找室友列表，默认推荐按照地理位置距离显示发布了找室友的用户信息，如果当前用户发布了找室友，则按照发布的期望位置和期望时间进行匹配显示数据，最新列表则根据发布时间进行显示。
- 找租客列表：默认显示当前位置附近的租客列表，如果自己发布找房也显示在其中，如果发布了转租，则根据转租房源的时间和位置进行匹配显示，最新的租客列表则根据发布时间进行显示即可。


### 房东角色功能
- 房东可以发布房源，编写上传房源照片，输入小区名称，选择房源位置，面积，楼层，租金，租金方式，可入住时间，备注说明等信息
- 房东可以显示租客列表，默认推荐按照当前位置进行距离远近筛选推荐，如果房东发布了房源，则按照房源的位置及出租时间进行匹配，如果没有匹配到则按照用户的距离推荐。
- 其他部分功能大部分跟公共功能相同。

## 商家端小程序
商家端小程序是通过管理后台录入审核后才能登录。并且需要设置商家门店的名称所有管理的区域范围，只能显示当前管理小区区域范围的租客和房东。相关功能如下：
- 通过手机号及验证码登录
- 可以进行消息发送，获取租客和房东的联系方式。
- 钱包默认房豆每个月100个
- 可以查看门店地图范围内的房源列表，并且可以显示当前小区范围周边由近及远的租客信息。可以查看租客详情和房源详情，联系对应的租客和房东
- 商家的门店也可以自己录入房源，录入房源信息：上传房源照片，输入小区名称，选择房源位置，面积，楼层，租金，租金方式，出租时间，备注说明
## 管理后台功能
- 管理后台可以管理用户信息模块，包含租客和房东的普通用户
- 管理后台可以管理，找房模块、找室友模块
- 管理后台可以管理房源模块，房源包括房东房源，租客转租房源，门店房源，房源发布存在审核。
- 管理后台包括预约管理模块，记录租客和房东以及门店申请预约看房的记录。
- 管理后台可以管理房豆模块，用于房豆的发放，增加减少记录。
- 管理后台可以管理门店注册，门店开通，设定门店区域范围。
- 管理后台存在智能推荐模块：包括租客发布找房可以匹配到房源，租客发布找室友可以匹配到室友，租客发布转租可以匹配到租客，房东发布房源可以匹配到租客，门店可以匹配到租客和房源等。
- 管理后台可以存在地图管理模块：显示某个城市的房源点，找房租客点，找室友的坐标点，可以根据时间进行筛选
- 管理后台存在统计大盘，显示相关模块的试试数据。
- 管理后台存在消息模块，可以对租客房东，门店发送系统消息。

# 目标
根据现有的项目需求，帮我设计数据表结构，拆分模块有哪些，每个模块应该有哪些接口，区分管理后台接口，用户端小程序和商家端小程序的接口,并提供每个接口的示例接口请求和返回，并生成一个新的md结构文档。

